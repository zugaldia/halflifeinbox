angular.module("halfLife",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"/static/partials/main.html",controller:"MainCtrl"});a.otherwise({redirectTo:"/"})}]).controller("MainCtrl",["$scope","$log",function(a,g){a.firstDay=100;a.lastDay=10;a.totalDays=14;a.decayRate=null;a.halfLife=null;a.emailPlan=null;var e="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");a.$watch("firstDay",function(d,b,c){a.updateExponentialDecay()});a.$watch("lastDay",function(d,b,c){a.updateExponentialDecay()});
a.$watch("totalDays",function(d,b,c){a.updateExponentialDecay()});a.getDecayRate=function(a,b,c){return-1/a*Math.log(1*b/c)};a.getExponentialDecay=function(a,b,c){return 1*a*Math.exp(-1*b*c)};a.getHalfLife=function(a){return 1*Math.log(2)/a};a.updateExponentialDecay=function(){a.decayRate=a.getDecayRate(a.totalDays,a.lastDay,a.firstDay);a.halfLife=Math.ceil(a.getHalfLife(a.decayRate));var d=new Date;a.emailPlan=[];for(var b=0;b<a.totalDays+1;b++){var c=Math.ceil(a.getExponentialDecay(a.firstDay,a.decayRate,
b)),f=d.getUTCDate()+" "+e[d.getUTCMonth()];a.emailPlan.push({day:b,expectedDate:f,remaining:c});d.setDate(d.getDate()+1)}}}]);
